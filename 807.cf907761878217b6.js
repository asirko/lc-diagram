"use strict";(self.webpackChunklc_diagram=self.webpackChunklc_diagram||[]).push([[807],{807:(w,p,u)=>{u.r(p),u.d(p,{default:()=>L});var l=u(6814),v=u(239),e=u(5879),b=u(4829),_=u(5592),f=u(1631),T=u(4266),c=u(4674),Z=u(7400);const x=["addListener","removeListener"],A=["addEventListener","removeEventListener"],E=["on","off"];function g(n,s,o,r){if((0,c.m)(o)&&(r=o,o=void 0),r)return g(n,s,o).pipe((0,Z.Z)(r));const[t,i]=function q(n){return(0,c.m)(n.addEventListener)&&(0,c.m)(n.removeEventListener)}(n)?A.map(a=>d=>n[a](s,d,o)):function U(n){return(0,c.m)(n.addListener)&&(0,c.m)(n.removeListener)}(n)?x.map(h(n,s)):function O(n){return(0,c.m)(n.on)&&(0,c.m)(n.off)}(n)?E.map(h(n,s)):[];if(!t&&(0,T.z)(n))return(0,f.z)(a=>g(a,s,o))((0,b.Xf)(n));if(!t)throw new TypeError("Invalid event target");return new _.y(a=>{const d=(...m)=>a.next(1<m.length?m:m[0]);return t(d),()=>i(d)})}function h(n,s){return o=>r=>n[o](s,r)}var C=u(7398),y=u(9773);const D=["lcdGrabableDot",""];let M=(()=>{var n;class s{constructor(){this.elementRef=(0,e.f3M)(e.SBq),this.svgContainerElement=this.elementRef.nativeElement.closest("svg"),this.x=0,this.y=0,this.xChange=new e.vpe,this.yChange=new e.vpe}startDraggingTouch(r){r.preventDefault(),g(document,"touchmove").pipe((0,C.U)(t=>({x:t.touches[0].clientX,y:t.touches[0].clientY})),(0,y.R)(g(document,"touchend"))).subscribe(t=>this._treatDragEvent(t))}startDraggingMouse(){g(document,"mousemove").pipe((0,C.U)(r=>({x:r.clientX,y:r.clientY})),(0,y.R)(g(document,"mouseup"))).subscribe(r=>this._treatDragEvent(r))}_treatDragEvent({x:r,y:t}){const i=this.svgContainerElement.getBoundingClientRect();this.x=r-i.left,this.y=t-i.top,this.xChange.emit(this.x),this.yChange.emit(this.y)}}return(n=s).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["g","lcdGrabableDot",""]],inputs:{x:"x",y:"y"},outputs:{xChange:"xChange",yChange:"yChange"},standalone:!0,features:[e.jDz],attrs:D,decls:2,vars:4,consts:[["r","4"],["r","20",1,"grabable",3,"mousedown","touchstart"]],template:function(r,t){1&r&&(e.O4$(),e._UZ(0,"circle",0),e.TgZ(1,"circle",1),e.NdJ("mousedown",function(){return t.startDraggingMouse()})("touchstart",function(a){return t.startDraggingTouch(a)}),e.qZA()),2&r&&(e.uIk("cx",t.x)("cy",t.y),e.xp6(1),e.uIk("cx",t.x)("cy",t.y))},dependencies:[l.ez],styles:["circle[_ngcontent-%COMP%]{fill:red}.grabable[_ngcontent-%COMP%]{cursor:grab;fill:transparent;transition:fill .2s ease-in-out}.grabable[_ngcontent-%COMP%]:hover{fill:#0003}"],changeDetection:0}),s})(),I=(()=>{var n;class s{constructor(){this.start={x:25,y:100},this.startTarget={x:150,y:150},this.endTarget={x:150,y:50},this.end={x:275,y:100}}get path(){return`M ${this.start.x} ${this.start.y} C ${this.startTarget.x} ${this.startTarget.y}, ${this.endTarget.x} ${this.endTarget.y}, ${this.end.x} ${this.end.y}`}}return(n=s).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["lcd-interactive-cubic"]],standalone:!0,features:[e.jDz],decls:51,vars:49,consts:[["xmlns","http://www.w3.org/2000/svg","width","300","height","200"],["lcdGrabableDot","",3,"x","y","xChange","yChange"]],template:function(r,t){1&r&&(e.O4$(),e.TgZ(0,"svg",0)(1,"g",1),e.NdJ("xChange",function(a){return t.start.x=a})("yChange",function(a){return t.start.y=a}),e.qZA(),e.TgZ(2,"g",1),e.NdJ("xChange",function(a){return t.startTarget.x=a})("yChange",function(a){return t.startTarget.y=a}),e.qZA(),e.TgZ(3,"g",1),e.NdJ("xChange",function(a){return t.endTarget.x=a})("yChange",function(a){return t.endTarget.y=a}),e.qZA(),e.TgZ(4,"g",1),e.NdJ("xChange",function(a){return t.end.x=a})("yChange",function(a){return t.end.y=a}),e.qZA(),e._UZ(5,"line")(6,"line")(7,"path"),e.qZA(),e.kcU(),e.TgZ(8,"table")(9,"tr"),e._UZ(10,"th"),e.TgZ(11,"th"),e._uU(12,"X"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Y"),e.qZA()(),e.TgZ(15,"tr")(16,"th"),e._uU(17,"Start"),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.ALo(20,"number"),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.ALo(23,"number"),e.qZA()(),e.TgZ(24,"tr")(25,"th"),e._uU(26,"Start target"),e.qZA(),e.TgZ(27,"td"),e._uU(28),e.ALo(29,"number"),e.qZA(),e.TgZ(30,"td"),e._uU(31),e.ALo(32,"number"),e.qZA()(),e.TgZ(33,"tr")(34,"th"),e._uU(35,"End"),e.qZA(),e.TgZ(36,"td"),e._uU(37),e.ALo(38,"number"),e.qZA(),e.TgZ(39,"td"),e._uU(40),e.ALo(41,"number"),e.qZA()(),e.TgZ(42,"tr")(43,"th"),e._uU(44,"End target"),e.qZA(),e.TgZ(45,"td"),e._uU(46),e.ALo(47,"number"),e.qZA(),e.TgZ(48,"td"),e._uU(49),e.ALo(50,"number"),e.qZA()()()),2&r&&(e.xp6(1),e.Q6J("x",t.start.x)("y",t.start.y),e.xp6(1),e.Q6J("x",t.startTarget.x)("y",t.startTarget.y),e.xp6(1),e.Q6J("x",t.endTarget.x)("y",t.endTarget.y),e.xp6(1),e.Q6J("x",t.end.x)("y",t.end.y),e.xp6(1),e.uIk("x1",t.start.x)("y1",t.start.y)("x2",t.startTarget.x)("y2",t.startTarget.y),e.xp6(1),e.uIk("x1",t.end.x)("y1",t.end.y)("x2",t.endTarget.x)("y2",t.endTarget.y),e.xp6(1),e.uIk("d",t.path),e.xp6(12),e.Oqu(e.xi3(20,25,t.start.x,"1.0-0")),e.xp6(3),e.Oqu(e.xi3(23,28,t.start.y,"1.0-0")),e.xp6(6),e.Oqu(e.xi3(29,31,t.startTarget.x,"1.0-0")),e.xp6(3),e.Oqu(e.xi3(32,34,t.startTarget.y,"1.0-0")),e.xp6(6),e.Oqu(e.xi3(38,37,t.end.x,"1.0-0")),e.xp6(3),e.Oqu(e.xi3(41,40,t.end.y,"1.0-0")),e.xp6(6),e.Oqu(e.xi3(47,43,t.endTarget.x,"1.0-0")),e.xp6(3),e.Oqu(e.xi3(50,46,t.endTarget.y,"1.0-0")))},dependencies:[l.ez,l.JJ,M],styles:["[_nghost-%COMP%]{display:flex;gap:2rem;justify-content:space-evenly}svg[_ngcontent-%COMP%]{border:1px solid black}line[_ngcontent-%COMP%]{stroke:red;stroke-width:1}path[_ngcontent-%COMP%]{stroke:#000;stroke-width:2;fill:none}table[_ngcontent-%COMP%]{border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black;padding:.5rem 2rem}td[_ngcontent-%COMP%]{width:100px;text-align:center}@media (max-width: 768px){[_nghost-%COMP%]{flex-direction:column;align-items:center}}"],changeDetection:0}),s})();const z=function(){return["ts","svg","scss"]};let L=(()=>{var n;class s{}return(n=s).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["lcd-cubic-bezier"]],standalone:!0,features:[e.jDz],decls:22,vars:2,consts:[["path","./app/features/04-cubic-bezier/interactive-cubic/interactive-cubic.component"],["path","./app/features/04-cubic-bezier/grabable-dot/grabable-dot.component",3,"supportedExtension"],[1,"resources"],["href","https://www.w3.org/TR/SVG2/render.html#RenderingOrder"],["href","https://stackoverflow.com/a/25302276/4092518"]],template:function(r,t){1&r&&(e.TgZ(0,"h3"),e._uU(1,"G\xe9rer les interactions dans SVG"),e.qZA(),e.TgZ(2,"p"),e._uU(3," Les points rouges sont d\xe9pla\xe7ables. Ils d\xe9crivent une courbe de B\xe9zier. "),e.qZA(),e.TgZ(4,"lcd-code-reader",0),e._UZ(5,"lcd-interactive-cubic"),e.qZA(),e._UZ(6,"lcd-code-reader",1),e.TgZ(7,"p")(8,"strong"),e._uU(9,"Attention\xa0:"),e.qZA(),e._uU(10," le "),e.TgZ(11,"code"),e._uU(12,"z-index"),e.qZA(),e._uU(13," ne fonctionne pas dans SVG. Il faut donc faire attention \xe0 l'ordre des \xe9l\xe9ments dans le DOM.\n"),e.qZA(),e.TgZ(14,"footer",2)(15,"ul")(16,"li")(17,"a",3),e._uU(18,"Les stacking context d'SVG"),e.qZA()(),e.TgZ(19,"li")(20,"a",4),e._uU(21,"Alternative au z-index dans SVG"),e.qZA()()()()),2&r&&(e.xp6(6),e.Q6J("supportedExtension",e.DdM(1,z)))},dependencies:[l.ez,v.E,I],styles:["[_nghost-%COMP%]{display:block;height:100%}"],changeDetection:0}),s})()}}]);