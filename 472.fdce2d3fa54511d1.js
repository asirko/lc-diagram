"use strict";(self.webpackChunklc_diagram=self.webpackChunklc_diagram||[]).push([[472],{2472:(ft,Z,l)=>{l.r(Z),l.d(Z,{default:()=>gt});var C=l(6814),B=l(8237),L=l(239),t=l(5879),y=l(2438),T=l(2181),D=l(9397),N=l(4716),x=l(9773),z=l(6321),F=l(9360),J=l(4829),I=l(8251),Q=l(4825);function O(r,o=z.z){return function V(r){return(0,F.e)((o,i)=>{let e=!1,n=null,s=null,a=!1;const c=()=>{if(s?.unsubscribe(),s=null,e){e=!1;const h=n;n=null,i.next(h)}a&&i.complete()},d=()=>{s=null,a&&i.complete()};o.subscribe((0,I.x)(i,h=>{e=!0,n=h,s||(0,J.Xf)(r(h)).subscribe(s=(0,I.x)(i,c,d))},()=>{a=!0,(!e||!s||s.closed)&&i.complete()}))})}(()=>(0,Q.H)(r,o))}var G=l(1954),j=l(7394);const _={schedule(r){let o=requestAnimationFrame,i=cancelAnimationFrame;const{delegate:e}=_;e&&(o=e.requestAnimationFrame,i=e.cancelAnimationFrame);const n=o(s=>{i=void 0,r(s)});return new j.w0(()=>i?.(n))},requestAnimationFrame(...r){const{delegate:o}=_;return(o?.requestAnimationFrame||requestAnimationFrame)(...r)},cancelAnimationFrame(...r){const{delegate:o}=_;return(o?.cancelAnimationFrame||cancelAnimationFrame)(...r)},delegate:void 0};var W=l(2631);const P=new class Y extends W.v{flush(o){this._active=!0;const i=this._scheduled;this._scheduled=void 0;const{actions:e}=this;let n;o=o||e.shift();do{if(n=o.execute(o.state,o.delay))break}while((o=e[0])&&o.id===i&&e.shift());if(this._active=!1,n){for(;(o=e[0])&&o.id===i&&e.shift();)o.unsubscribe();throw n}}}(class X extends G.o{constructor(o,i){super(o,i),this.scheduler=o,this.work=i}requestAsyncId(o,i,e=0){return null!==e&&e>0?super.requestAsyncId(o,i,e):(o.actions.push(this),o._scheduled||(o._scheduled=_.requestAnimationFrame(()=>o.flush(void 0))))}recycleAsyncId(o,i,e=0){var n;if(null!=e?e>0:this.delay>0)return super.recycleAsyncId(o,i,e);const{actions:s}=o;null!=i&&(null===(n=s[s.length-1])||void 0===n?void 0:n.id)!==i&&(_.cancelAnimationFrame(i),o._scheduled=void 0)}});var b=l(7921),$=l(5619),v=l(7398),k=l(3997);const q={id:1,x:0,y:100,name:"Node 1"};let R=(()=>{var r;class o{constructor(){this._nodes$=new $.X([q]),this.nodes$=this._nodes$.asObservable(),this._arrows$=new $.X([]),this.arrows$=this._arrows$.asObservable(),this._config$=new $.X({offset:{x:-10,y:-10},zoom:1}),this.config$=this._arrows$.asObservable()}getNodeSnapshot(e){return this._nodes$.getValue().find(n=>n.id===e)}getNode$(e){return this._nodes$.pipe((0,v.U)(n=>n.find(s=>s.id===e)),(0,T.h)(n=>!!n),(0,k.x)())}putNodeToLast(e){const n=this._nodes$.getValue(),s=n.find(a=>a.id===e);s&&this._nodes$.next([...n.filter(a=>a.id!==e),s])}updateNode(e,n){this._nodes$.next(this._nodes$.getValue().map(s=>s.id===e?{...s,...n}:s))}addNode(e,n){const s=Math.max(0,...this._nodes$.getValue().map(a=>a.id))+1;this._nodes$.next([...this._nodes$.getValue(),{...e,id:s,name:`Node ${s}`}]),this.addArrow({start:n,end:s})}deleteNode(e){this._arrows$.next(this._arrows$.getValue().filter(n=>n.start!==e&&n.end!==e)),this._nodes$.next(this._nodes$.getValue().filter(n=>n.id!==e))}addArrow(e){const n=Math.max(0,...this._arrows$.getValue().map(s=>s.id))+1;this._arrows$.next([...this._arrows$.getValue(),{...e,id:n}])}getArrowSnapshot(e){return this._arrows$.getValue().find(n=>n.id===e)}deleteArrow(e){this._arrows$.next(this._arrows$.getValue().filter(n=>n.id!==e))}getConfigSnapshot(){return this._config$.getValue()}updateConfig(e){this._config$.next({...this._config$.getValue(),...e})}center(){const e=this._nodes$.getValue().reduce((n,s)=>!n||s.x<n.x?s:n,null)||{x:0,y:0};this.updateConfig({offset:{x:e.x-10,y:e.y-100}})}}return(r=o).\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),o})();var w=l(95);const u_CIRCLE_RADIUS=8,u_LINE_HEIGHT=24,u_RECT_WIDTH=168,u_RECT_HEIGHT=96;let K=(()=>{var r;class o{transform(e){return e.replace(/\n/g,"<br>")}}return(r=o).\u0275fac=function(e){return new(e||r)},r.\u0275pipe=t.Yjl({name:"breakLineToBR",type:r,pure:!0,standalone:!0}),o})();const tt=["ghost"],et=["lcdNode",""];let nt=(()=>{var r;class o{constructor(){this.cdr=(0,t.f3M)(t.sBO),this.store=(0,t.f3M)(R),this.renderer=(0,t.f3M)(t.Qsj),this.elementRef=(0,t.f3M)(t.SBq),this.drawArrow=new t.vpe,this.x=0,this.y=100,this.nameCtrl=new w.NI("",{nonNullable:!0}),this.editing=!1}ngOnInit(){const e=this.store.getNodeSnapshot(this.nodeId);this.x=e.x,this.y=e.y,this.nameCtrl.setValue(e.name)}get transform(){return`translate(${this.x}, ${this.y})`}onMouseDown(e){this.store.putNodeToLast(this.nodeId),this.renderer.addClass(this.elementRef.nativeElement,"dragging");const n={x:this.x,y:this.y};let s=!1;const a=(0,y.R)(document,"keydown").pipe((0,T.h)(d=>"Escape"===d.key),(0,D.b)(()=>s=!0)),c=(0,y.R)(document,"mouseup").pipe((0,N.x)(()=>{s||(this.x+=n.x,this.y+=n.y,this.store.updateNode(this.nodeId,{x:this.x,y:this.y})),this.renderer.removeClass(this.elementRef.nativeElement,"dragging"),this.cdr.markForCheck()}));(0,y.R)(document,"mousemove").pipe((0,x.R)(c),(0,x.R)(a),O(0,P),(0,b.O)(e),(0,T.h)(()=>!s)).subscribe(d=>{const h=this.store.getConfigSnapshot().zoom;n.x=(d.clientX-e.clientX)/h,n.y=(d.clientY-e.clientY)/h,this.ghostRef.nativeElement.setAttribute("transform",`translate(${n.x}, ${n.y})`)})}edit(e){this.editing=!0,setTimeout(()=>{e.focus(),e.select()})}cancelEdit(){this.editing=!1,this.nameCtrl.setValue(this.store.getNodeSnapshot(this.nodeId).name)}validateEdition(){this.editing=!1,this.store.updateNode(this.nodeId,{name:this.nameCtrl.value})}addNode(){this.store.addNode({x:this.x+1.5*u_RECT_WIDTH,y:this.y},this.nodeId),this.store.putNodeToLast(this.nodeId)}deleteNode(){this.store.deleteNode(this.nodeId)}}return(r=o).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["","lcdNode",""]],viewQuery:function(e,n){if(1&e&&t.Gf(tt,5),2&e){let s;t.iGM(s=t.CRH())&&(n.ghostRef=s.first)}},hostVars:2,hostBindings:function(e,n){2&e&&t.uIk("data-node-id",n.nodeId)("transform",n.transform)},inputs:{nodeId:"nodeId"},outputs:{drawArrow:"drawArrow"},standalone:!0,features:[t.jDz],attrs:et,decls:24,vars:6,consts:[[1,"content",3,"mousedown"],["xmlns","http://www.w3.org/1999/xhtml"],[1,"label",3,"innerHTML","dblclick"],[3,"formControl","mousedown","keydown.escape","keydown.enter","blur"],["input",""],[1,"menu"],[3,"click"],[1,"ri-add-line"],[1,"ri-delete-bin-line"],[1,"ghost"],["ghost",""]],template:function(e,n){if(1&e){const s=t.EpF();t.O4$(),t._UZ(0,"rect"),t.TgZ(1,"foreignObject",0),t.NdJ("mousedown",function(c){return n.onMouseDown(c)}),t.kcU(),t.TgZ(2,"div",1)(3,"div",2),t.NdJ("dblclick",function(){t.CHM(s);const c=t.MAs(6);return t.KtG(n.edit(c))}),t.ALo(4,"breakLineToBR"),t.qZA(),t.TgZ(5,"textarea",3,4),t.NdJ("mousedown",function(c){return c.stopPropagation()})("keydown.escape",function(){return n.cancelEdit()})("keydown.enter",function(){return n.validateEdition()})("blur",function(){return n.validateEdition()}),t.qZA()()(),t.O4$(),t.TgZ(7,"foreignObject",5),t.kcU(),t.TgZ(8,"div",1)(9,"ul")(10,"li")(11,"button",6),t.NdJ("click",function(){return n.addNode()}),t._UZ(12,"i",7),t._uU(13," N\u0153ud"),t.qZA()(),t.TgZ(14,"li")(15,"button",6),t.NdJ("click",function(c){return n.drawArrow.next(c)}),t._UZ(16,"i",7),t._uU(17," Lien"),t.qZA()(),t.TgZ(18,"li")(19,"button",6),t.NdJ("click",function(){return n.deleteNode()}),t._UZ(20,"i",8),t._uU(21," Supprimer"),t.qZA()()()()(),t.O4$(),t._UZ(22,"rect",9,10)}2&e&&(t.xp6(1),t.ekj("editing",n.editing),t.xp6(2),t.Q6J("innerHTML",t.lcZ(4,4,n.nameCtrl.value),t.oJD),t.xp6(2),t.Q6J("formControl",n.nameCtrl))},dependencies:[C.ez,w.UX,w.Fj,w.JJ,w.oH,K],styles:["[_nghost-%COMP%]{cursor:grab}.drawing-arrow   [_nghost-%COMP%]{cursor:pointer}rect[_ngcontent-%COMP%]{fill:#fff;stroke:#000;width:var(--rect-width);height:var(--rect-height);rx:var(--circle-radius)}.content[_ngcontent-%COMP%]{width:var(--rect-width);height:var(--rect-height);padding:calc(var(--line-height) / 2)}.label[_ngcontent-%COMP%]{width:100%;height:calc(var(--line-height) * 3);display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;line-height:var(--line-height);text-align:center;-webkit-user-select:none;user-select:none}.editing[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:none}textarea[_ngcontent-%COMP%]{display:none;width:100%;height:calc(var(--line-height) * 3);border:none;line-height:var(--line-height);outline:none;resize:none}.editing[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:block}.menu[_ngcontent-%COMP%]{width:100px;transform:translate(var(--rect-width));overflow:visible;opacity:0;pointer-events:none;transition:opacity .2s ease-in-out}[_nghost-%COMP%]:hover   .menu[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:var(--space-s)}.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:transparent;color:var(--color-primary-darker);white-space:nowrap;padding:0;opacity:.5}.menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.ghost[_ngcontent-%COMP%]{opacity:0;pointer-events:none}.dragging[_nghost-%COMP%]   rect[_ngcontent-%COMP%]{stroke:#0000004d}.dragging[_nghost-%COMP%]   .ghost[_ngcontent-%COMP%]{opacity:1;stroke:#000}"],changeDetection:0}),o})();var ot=l(2572);function E(r,o){return r.x>=Math.min(o.start.x,o.end.x)&&r.x<=Math.max(o.start.x,o.end.x)&&r.y>=Math.min(o.start.y,o.end.y)&&r.y<=Math.max(o.start.y,o.end.y)}function M(r,o){const i=(r.start.x-r.end.x)*(o.start.y-o.end.y)-(r.start.y-r.end.y)*(o.start.x-o.end.x);if(0===i)return null;const e=((r.start.x-o.start.x)*(o.start.y-o.end.y)-(r.start.y-o.start.y)*(o.start.x-o.end.x))/i,n=-((r.start.x-r.end.x)*(r.start.y-o.start.y)-(r.start.y-r.end.y)*(r.start.x-o.start.x))/i;return e>=0&&e<=1&&n>=0&&n<=1?{x:r.start.x+e*(r.end.x-r.start.x),y:r.start.y+e*(r.end.y-r.start.y)}:null}function H(r,o){if(r.x===o.x)return{x:o.x+u_RECT_WIDTH/2,y:o.y+(r.y<o.y?0:u_RECT_HEIGHT)};const i={start:{x:r.x+u_RECT_WIDTH/2,y:r.y+u_RECT_HEIGHT/2},end:{x:o.x+u_RECT_WIDTH/2,y:o.y+u_RECT_HEIGHT/2}},e=o.y+u_CIRCLE_RADIUS,n=o.y+u_RECT_HEIGHT-u_CIRCLE_RADIUS,s=o.x+u_CIRCLE_RADIUS,a=o.x+u_RECT_WIDTH-u_CIRCLE_RADIUS,d=[{x:s,y:e},{x:s,y:n},{x:a,y:e},{x:a,y:n}].flatMap(f=>function rt(r,o,i){if(r.end.x===r.start.x)throw new Error("Not implemented");const e=(r.end.y-r.start.y)/(r.end.x-r.start.x),n=r.start.y-e*r.start.x,s=1+e*e,a=2*e*n-2*o.x-2*o.y*e,d=a*a-4*s*(o.x**2+n**2-2*n*o.y+o.y**2-i**2),h=[];if(0===d){const p=-a/(2*s),m=e*p+n;E({x:p,y:m},r)&&h.push({x:p,y:m})}else if(d>0){const p=(-a+Math.sqrt(d))/(2*s),m=e*p+n;E({x:p,y:m},r)&&h.push({x:p,y:m});const g=(-a-Math.sqrt(d))/(2*s),f=e*g+n;E({x:g,y:f},r)&&h.push({x:g,y:f})}return h}(i,f,u_CIRCLE_RADIUS)).reduce((f,S)=>!f||Math.abs(i.start.x-S.x)<Math.abs(i.start.x-f.x)?S:f,null);if(d)return d;const h=o.y,p=o.y+u_RECT_HEIGHT,m=o.x,g=o.x+u_RECT_WIDTH;return M(i,{start:{x:m,y:h},end:{x:g,y:h}})||M(i,{start:{x:m,y:h},end:{x:m,y:p}})||M(i,{start:{x:m,y:p},end:{x:g,y:p}})||M(i,{start:{x:g,y:h},end:{x:g,y:p}})}const it=["lcdArrow",""];function st(r,o){if(1&r){const i=t.EpF();t.ynx(0),t.O4$(),t._UZ(1,"line",1)(2,"line",2),t.TgZ(3,"foreignObject",3),t.kcU(),t.TgZ(4,"div")(5,"ul")(6,"li")(7,"button",4),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.deleteArrow())}),t._UZ(8,"i",5),t._uU(9," Supprimer"),t.qZA()()()()(),t.BQk()}if(2&r){const i=o.ngIf;t.xp6(1),t.uIk("x1",i.start.x)("y1",i.start.y)("x2",i.end.x)("y2",i.end.y),t.xp6(1),t.uIk("x1",i.start.x)("y1",i.start.y)("x2",i.end.x)("y2",i.end.y),t.xp6(1),t.uIk("x",(i.start.x+i.end.x)/2)("y",(i.start.y+i.end.y)/2)}}let at=(()=>{var r;class o{constructor(){this.store=(0,t.f3M)(R)}ngOnInit(){const e=this.store.getArrowSnapshot(this.arrowId);this.viewModel$=(0,ot.a)([this.store.getNode$(e.start),this.store.getNode$(e.end)]).pipe((0,v.U)(([n,s])=>({start:{x:n.x+u_RECT_WIDTH/2,y:n.y+u_RECT_HEIGHT/2},end:H(n,s)})),(0,k.x)())}deleteArrow(){this.store.deleteArrow(this.arrowId)}}return(r=o).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["","lcdArrow",""]],inputs:{arrowId:"arrowId"},standalone:!0,features:[t.jDz],attrs:it,decls:2,vars:3,consts:[[4,"ngIf"],["marker-end","url(#arrowhead)"],[1,"hoverabled"],[1,"menu"],[3,"click"],[1,"ri-delete-bin-line"]],template:function(e,n){1&e&&(t.YNc(0,st,10,10,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,n.viewModel$))},dependencies:[C.ez,C.O5,C.Ov],styles:["[_nghost-%COMP%]{pointer-events:none}line[_ngcontent-%COMP%]{stroke:#000;fill:none;stroke-width:2;cursor:default}line.hoverabled[_ngcontent-%COMP%]{stroke:transparent;stroke-width:20;pointer-events:stroke}.menu[_ngcontent-%COMP%]{width:100px;overflow:visible;opacity:0;pointer-events:none;transition:opacity .2s ease-in-out}[_nghost-%COMP%]:hover   .menu[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:var(--space-s)}.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:transparent;color:var(--color-primary-darker);white-space:nowrap;padding:0;opacity:.5}.menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}"],changeDetection:0}),o})();const dt=["svgContainerRef"];function lt(r,o){1&r&&(t.O4$(),t._UZ(0,"g",10)),2&r&&t.Q6J("arrowId",o.$implicit.id)}function ut(r,o){if(1&r&&(t.O4$(),t._UZ(0,"path",11)),2&r){const i=t.oxw();t.uIk("d",i.ghostArrowPath)}}function ht(r,o){if(1&r){const i=t.EpF();t.O4$(),t.TgZ(0,"g",12),t.NdJ("drawArrow",function(n){const a=t.CHM(i).$implicit,c=t.oxw();return t.KtG(c.drawArrowFrom(a,n))}),t.qZA()}2&r&&t.Q6J("nodeId",o.$implicit.id)}let pt=(()=>{var r;class o{constructor(){this.cdr=(0,t.f3M)(t.sBO),this.store=(0,t.f3M)(R),this.elementRef=(0,t.f3M)(t.SBq),this.renderer=(0,t.f3M)(t.Qsj),this.nodes$=this.store.nodes$,this.arrows$=this.store.arrows$,this.ghostArrowPath=null,this.initialZoom=this.store.getConfigSnapshot().zoom}ngAfterViewInit(){const e=this.elementRef.nativeElement;e.style.setProperty("--circle-radius",`${u_CIRCLE_RADIUS}px`),e.style.setProperty("--line-height",`${u_LINE_HEIGHT}px`),e.style.setProperty("--rect-width",`${u_RECT_WIDTH}px`),e.style.setProperty("--rect-height",`${u_RECT_HEIGHT}px`)}ngAfterViewChecked(){const{width:e,height:n}=this.svgContainerRef.nativeElement.getBoundingClientRect(),{offset:s,zoom:a}=this.store.getConfigSnapshot(),c=`${s.x} ${s.y} ${e/a} ${n/a}`;c!==this.viewBox&&(this.viewBox=c,this.cdr.detectChanges())}trackById(e,n){return n.id}drawArrowFrom(e,n){this.renderer.addClass(this.svgContainerRef.nativeElement,"drawing-arrow");const s=(0,y.R)(document,"keydown").pipe((0,T.h)(c=>"Escape"===c.key)),a=(0,y.R)(document,"mousedown").pipe((0,D.b)(c=>{const d=c.target.closest("g")?.attributes.getNamedItem("data-node-id")?.value;d&&this.store.addArrow({start:e.id,end:+d})}),(0,N.x)(()=>{this.ghostArrowPath=null,this.renderer.removeClass(this.svgContainerRef.nativeElement,"drawing-arrow"),this.cdr.markForCheck()}));(0,y.R)(document,"mousemove").pipe((0,x.R)(a),(0,x.R)(s),O(0,P),(0,b.O)(n),(0,v.U)(c=>({nodeId:c.target.closest("g")?.attributes.getNamedItem("data-node-id")?.value,event:c})),(0,k.x)(({nodeId:c},{nodeId:d})=>!!d&&c===d),(0,v.U)(({nodeId:c,event:d})=>{if(!c){const{top:p,left:m}=this.svgContainerRef.nativeElement.getBoundingClientRect(),{offset:g,zoom:f}=this.store.getConfigSnapshot();return{x:(d.clientX-m)/f+g.x,y:(d.clientY-p)/f+g.y}}const h=this.store.getNodeSnapshot(+c);return H(e,h)})).subscribe(c=>{this.ghostArrowPath=`M${e.x+u_RECT_WIDTH/2},${e.y+u_RECT_HEIGHT/2} L${c.x},${c.y}`,this.cdr.markForCheck()})}moveDiagram(e){e.currentTarget===e.target&&(0,y.R)(document,"mousemove").pipe((0,x.R)((0,y.R)(document,"mouseup")),O(0,P),(0,b.O)(e),function ct(){return(0,F.e)((r,o)=>{let i,e=!1;r.subscribe((0,I.x)(o,n=>{const s=i;i=n,e&&o.next([s,n]),e=!0}))})}(),(0,v.U)(([n,s])=>{const a=this.store.getConfigSnapshot().zoom;return{x:(s.clientX-n.clientX)/a,y:(s.clientY-n.clientY)/a}})).subscribe(n=>{const{x:s,y:a}=this.store.getConfigSnapshot().offset;this.store.updateConfig({offset:{x:s-n.x,y:a-n.y}}),this.cdr.markForCheck()})}center(){this.store.center()}updateZoom(e){this.store.updateConfig({zoom:e.target.valueAsNumber})}}return(r=o).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["lcd-diagram"]],viewQuery:function(e,n){if(1&e&&t.Gf(dt,5),2&e){let s;t.iGM(s=t.CRH())&&(n.svgContainerRef=s.first)}},standalone:!0,features:[t.jDz],decls:13,vars:11,consts:[[3,"mousedown"],["svgContainerRef",""],["id","arrowhead","markerWidth","6","markerHeight","4","refX","5","refY","2","orient","auto"],["points","0 0, 6 2, 0 4"],["lcdArrow","",3,"arrowId",4,"ngFor","ngForOf","ngForTrackBy"],["marker-end","url(#arrowhead)",4,"ngIf"],["lcdNode","",3,"nodeId","drawArrow",4,"ngFor","ngForOf","ngForTrackBy"],[1,"menu"],["type","range","min","0.5","max","1.5","step","0.1",3,"value","input"],[1,"ri-focus-3-line",3,"click"],["lcdArrow","",3,"arrowId"],["marker-end","url(#arrowhead)"],["lcdNode","",3,"nodeId","drawArrow"]],template:function(e,n){1&e&&(t.O4$(),t.TgZ(0,"svg",0,1),t.NdJ("mousedown",function(a){return n.moveDiagram(a)}),t.TgZ(2,"defs")(3,"marker",2),t._UZ(4,"polygon",3),t.qZA()(),t.YNc(5,lt,1,1,"g",4),t.ALo(6,"async"),t.YNc(7,ut,1,1,"path",5),t.YNc(8,ht,1,1,"g",6),t.ALo(9,"async"),t.qZA(),t.kcU(),t.TgZ(10,"div",7)(11,"input",8),t.NdJ("input",function(a){return n.updateZoom(a)}),t.qZA(),t.TgZ(12,"i",9),t.NdJ("click",function(){return n.center()}),t.qZA()()),2&e&&(t.uIk("viewBox",n.viewBox),t.xp6(5),t.Q6J("ngForOf",t.lcZ(6,7,n.arrows$))("ngForTrackBy",n.trackById),t.xp6(2),t.Q6J("ngIf",n.ghostArrowPath),t.xp6(1),t.Q6J("ngForOf",t.lcZ(9,9,n.nodes$))("ngForTrackBy",n.trackById),t.xp6(3),t.Q6J("value",n.initialZoom))},dependencies:[C.ez,C.sg,C.O5,C.Ov,nt,at],styles:["[_nghost-%COMP%]{display:block;position:relative;font-size:0}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{font-size:var(--space-m)}svg[_ngcontent-%COMP%]{border:1px solid black;width:100%;height:600px;-webkit-user-select:none;user-select:none;cursor:move}svg.drawing-arrow[_ngcontent-%COMP%]{cursor:none}path[_ngcontent-%COMP%]{stroke:#000;stroke-width:2}.menu[_ngcontent-%COMP%]{position:absolute;bottom:1px;right:1px;padding:var(--space-s);border-top-left-radius:var(--space-m);display:flex;flex-direction:column;align-items:center;gap:var(--space-s);background-color:var(--color-primary-lightest)}.menu[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{transform:rotate(270deg);width:140px;margin:62px -62px}.menu[_ngcontent-%COMP%]   .ri-focus-3-line[_ngcontent-%COMP%]{padding:var(--space-s);border:1px solid black;border-radius:var(--space-m);font-size:var(--space-l)}.menu[_ngcontent-%COMP%]   .ri-focus-3-line[_ngcontent-%COMP%]:hover{cursor:pointer}"],changeDetection:0}),o})();const U=function(){return["ts","svg","scss"]},mt=function(){return["ts"]};let gt=(()=>{var r;class o{}return(r=o).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["lcd-diagram-page"]],standalone:!0,features:[t.jDz],decls:24,vars:6,consts:[["path","./app/features/05-diagram/diagram/diagram.component"],["path","./app/features/05-diagram/diagram/arrow/arrow.component",3,"supportedExtension"],["path","./app/features/05-diagram/diagram/node/node.component",3,"supportedExtension"],["path","./app/features/05-diagram/diagram/diagram.store",3,"supportedExtension"],[1,"controls"],["routerLink","../04-cubic-bezier"]],template:function(e,n){1&e&&(t.TgZ(0,"h3"),t._uU(1,"Diagramme interactif, un exemple complet"),t.qZA(),t.TgZ(2,"ul")(3,"li")(4,"em"),t._uU(5,"Ne prend pas en compte les \xe9v\xe9nements mobiles"),t.qZA()(),t.TgZ(6,"li"),t._uU(7,"Ajout/suppression de n\u0153uds"),t.qZA(),t.TgZ(8,"li"),t._uU(9,"Possibilit\xe9 de renommer un n\u0153ud en double cliquant dessus"),t.qZA(),t.TgZ(10,"li"),t._uU(11,"Ajout/suppression de liens"),t.qZA(),t.TgZ(12,"li"),t._uU(13,"Possibilit\xe9 de d\xe9placer la viewBox avec un drag&drop dans le vide"),t.qZA(),t.TgZ(14,"li"),t._uU(15,"Possibilit\xe9 zoomer/d\xe9zoomer avec le range input"),t.qZA()(),t.TgZ(16,"lcd-code-reader",0),t._UZ(17,"lcd-diagram"),t.qZA(),t._UZ(18,"lcd-code-reader",1)(19,"lcd-code-reader",2)(20,"lcd-code-reader",3),t.TgZ(21,"div",4)(22,"button",5),t._uU(23,"Pr\xe9c\xe9dent"),t.qZA()()),2&e&&(t.xp6(18),t.Q6J("supportedExtension",t.DdM(3,U)),t.xp6(1),t.Q6J("supportedExtension",t.DdM(4,U)),t.xp6(1),t.Q6J("supportedExtension",t.DdM(5,mt)))},dependencies:[C.ez,B.rH,L.E,pt],changeDetection:0}),o})()}}]);